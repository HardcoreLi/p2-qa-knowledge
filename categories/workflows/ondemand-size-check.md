---
title: "Ondemand 大小验证流程"
aliases:
  - "ondemand"
  - "ondemand验证"
  - "ondemand大小"
  - "资源大小验证"
  - "dlc大小"
  - "下载大小"
  - "loading大小"
tags:
  - "流程"
  - "测试"
  - "DLC"
updated: "2026-02-12"
source: "内部文档"
---

# Ondemand 大小验证流程

## 简答
> 版本封 DLC 前需验证 ondemand 下载大小，使用线上最新 GP 主包（裸包）拉取 DLC，记录 loading 界面下载大小，超过 5M 需同步超哥并找康哥优化。

---

## 验证时间点

- **时机**：版本合并至 bugfix 且功能基本稳定、版本新资源经 TA 完成图片压缩后
- **具体时间**：封 DLC 前 4-5 个工作日（具体由康哥通知）
- **预留时间**：约 3 天修改时间

> ⚠️ **重要**：需确认有 ondemand 改动的功能都已合并至 bugfix

---

## 验证方法

### 步骤
1. 使用**线上最新的 GP 主包**（裸包状态，即未拉取任何 DLC）
2. 使用**新号**登录
3. 拉取 DLC（ondemand）
4. 在**进入游戏时查看 loading 界面的下载大小**
5. 记录下载大小

### 覆盖范围
需覆盖以下包，分别记录每个包的下载大小：

| 包名 | 说明 |
|------|------|
| 主包 | GP 主包 |
| mj1 | 马甲包 1 |
| mj2 | 马甲包 2 |
| mj3 | 马甲包 3 |
| mj4 | 马甲包 4 |
| mj5 | 马甲包 5 |
| mj6 | 马甲包 6 |

---

## 后续处理

### 判断标准

| 大小 | 处理方式 |
|------|----------|
| **≥ 5M** | 同步超哥，超哥会要求优化 → 同步康哥进行优化 → 优化后再次比较 |
| **< 5M** | 一般情况下可接受 |
| **< 1M**（版本期间 DLC） | 不用同步超哥，在版本发布表记录即可 |

### 处理流程

```
记录各包下载大小
    ↓
≥ 5M → 同步超哥
    ↓
超哥要求优化 → 同步康哥
    ↓
康哥优化完成
    ↓
再次验证比较
```

---

## 版本期间 DLC 发布

如果版本期间发 DLC 时有 ondemand 改动：
1. 按照上述方法进行大小比较
2. **如果 < 1M**：一般不用同步超哥，在版本发布表记录 ondemand 大小即可
3. **如果 ≥ 1M**：建议同步超哥确认

---

## 常见坑点

- **未使用裸包**：必须使用未拉取任何 DLC 的裸包状态
- **未使用新号**：老号可能有缓存数据，影响下载大小判断
- **遗漏马甲包**：需要覆盖主包 + mj1~mj6 共 7 个包
- **功能未合并**：验证前需确认所有 ondemand 改动的功能都已合并至 bugfix
- **时间点错误**：需在 TA 完成图片压缩后再验证，否则数据不准确
